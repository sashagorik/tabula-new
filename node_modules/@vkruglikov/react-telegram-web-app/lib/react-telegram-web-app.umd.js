!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],n):n((e||self).reactTelegramWebApp={},e.react)}(this,function(e,n){var t=function(e){window.Telegram.WebApp.HapticFeedback.impactOccurred(e)},o=function(e){window.Telegram.WebApp.HapticFeedback.notificationOccurred(e)},i=function(){window.Telegram.WebApp.HapticFeedback.selectionChanged()},r=function(e,n){window.Telegram.WebApp.showScanQrPopup(e,n)},u=function(){window.Telegram.WebApp.closeScanQrPopup()},c=function(e,n){return window.Telegram.WebApp.switchInlineQuery(e,n)},f=function(){return window.Telegram.WebApp.isExpanded},a=function(){return window.Telegram.WebApp.expand()};e.BackButton=function(e){var t,o,i,r=e.onClick,u="undefined"!=typeof window?null==(t=window)||null==(o=t.Telegram)||null==(i=o.WebApp)?void 0:i.BackButton:null;return u?(n.useEffect(function(){return u.show(),function(){u.hide()}},[]),n.useEffect(function(){if(r)return u.onClick(r),function(){u.offClick(r)}},[r]),null):null},e.MainButton=function(e){var t=e.text,o=void 0===t?"CONTINUE":t,i=e.progress,r=void 0!==i&&i,u=e.disable,c=void 0!==u&&u,f=e.color,a=e.textColor,l=e.onClick,p="undefined"!=typeof window?window.Telegram.WebApp:null,d=null==p?void 0:p.MainButton;return d&&p?(n.useEffect(function(){d.setParams({color:f||p.themeParams.button_color||"#fff"})},[f]),n.useEffect(function(){d.setParams({text_color:a||p.themeParams.button_text_color||"#000"})},[a]),n.useEffect(function(){d.setText(o)},[o]),n.useEffect(function(){d.isActive&&c?d.disable():d.isActive||c||d.enable()},[c]),n.useEffect(function(){!d.isProgressVisible&&r?d.showProgress(!1):d.isProgressVisible&&!r&&d.hideProgress()},[r]),n.useEffect(function(){if(l)return d.onClick(l),function(){d.offClick(l)}},[l]),n.useEffect(function(){return d.show(),function(){d.hide()}},[]),null):null},e.useExpand=function(){var e=n.useState(f),t=e[0],o=e[1];return n.useEffect(function(){var e=function(e){e.isStateStable&&o(f())};return window.Telegram.WebApp.onEvent("viewportChanged",e),function(){return window.Telegram.WebApp.offEvent("viewportChanged",e)}},[]),[t,a]},e.useHapticFeedback=function(){return[t,o,i]},e.useReadTextFromClipboard=function(){return n.useCallback(function(){return new Promise(function(e){window.Telegram.WebApp.readTextFromClipboard(e)})},[])},e.useScanQrPopup=function(){return[r,u]},e.useShowPopup=function(){return n.useCallback(function(e){return new Promise(function(n,t){try{window.Telegram.WebApp.showPopup(e,function(e){n(e)})}catch(e){t(e)}})},[])},e.useSwitchInlineQuery=function(){return c},e.useThemeParams=function(){var e=n.useState("undefined"!=typeof window?window.Telegram.WebApp.colorScheme:void 0),t=e[0],o=e[1],i=n.useState("undefined"!=typeof window?window.Telegram.WebApp.themeParams:{}),r=i[0],u=i[1];return n.useEffect(function(){var e=function(){o(window.Telegram.WebApp.colorScheme),u(window.Telegram.WebApp.themeParams)};return window.Telegram.WebApp.onEvent("themeChanged",e),function(){window.Telegram.WebApp.offEvent("themeChanged",e)}},[]),[t,r]}});
//# sourceMappingURL=react-telegram-web-app.umd.js.map
