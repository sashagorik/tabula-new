import{useEffect as e,useCallback as o,useState as n}from"react";const r=({text:o="CONTINUE",progress:n=!1,disable:r=!1,color:i,textColor:t,onClick:l})=>{const a="undefined"!=typeof window?window.Telegram.WebApp:null,p=null==a?void 0:a.MainButton;return p&&a?(e(()=>{p.setParams({color:i||a.themeParams.button_color||"#fff"})},[i]),e(()=>{p.setParams({text_color:t||a.themeParams.button_text_color||"#000"})},[t]),e(()=>{p.setText(o)},[o]),e(()=>{p.isActive&&r?p.disable():p.isActive||r||p.enable()},[r]),e(()=>{!p.isProgressVisible&&n?p.showProgress(!1):p.isProgressVisible&&!n&&p.hideProgress()},[n]),e(()=>{if(l)return p.onClick(l),()=>{p.offClick(l)}},[l]),e(()=>(p.show(),()=>{p.hide()}),[]),null):null},i=({onClick:o})=>{var n,r,i;const t="undefined"!=typeof window?null==(n=window)||null==(r=n.Telegram)||null==(i=r.WebApp)?void 0:i.BackButton:null;return t?(e(()=>(t.show(),()=>{t.hide()}),[]),e(()=>{if(o)return t.onClick(o),()=>{t.offClick(o)}},[o]),null):null},t=()=>o(e=>new Promise((o,n)=>{try{window.Telegram.WebApp.showPopup(e,e=>{o(e)})}catch(e){n(e)}}),[]),l=e=>{window.Telegram.WebApp.HapticFeedback.impactOccurred(e)},a=e=>{window.Telegram.WebApp.HapticFeedback.notificationOccurred(e)},p=()=>{window.Telegram.WebApp.HapticFeedback.selectionChanged()},w=()=>[l,a,p],d=()=>{const[o,r]=n("undefined"!=typeof window?window.Telegram.WebApp.colorScheme:void 0),[i,t]=n("undefined"!=typeof window?window.Telegram.WebApp.themeParams:{});return e(()=>{const e=()=>{r(window.Telegram.WebApp.colorScheme),t(window.Telegram.WebApp.themeParams)};return window.Telegram.WebApp.onEvent("themeChanged",e),()=>{window.Telegram.WebApp.offEvent("themeChanged",e)}},[]),[o,i]},s=(e,o)=>{window.Telegram.WebApp.showScanQrPopup(e,o)},c=()=>{window.Telegram.WebApp.closeScanQrPopup()},m=()=>[s,c],b=()=>o(()=>new Promise(e=>{window.Telegram.WebApp.readTextFromClipboard(e)}),[]),u=(e,o)=>window.Telegram.WebApp.switchInlineQuery(e,o),g=()=>u,T=()=>window.Telegram.WebApp.isExpanded,f=()=>window.Telegram.WebApp.expand(),h=()=>{const[o,r]=n(T);return e(()=>{const e=e=>{e.isStateStable&&r(T())};return window.Telegram.WebApp.onEvent("viewportChanged",e),()=>window.Telegram.WebApp.offEvent("viewportChanged",e)},[]),[o,f]};export{i as BackButton,r as MainButton,h as useExpand,w as useHapticFeedback,b as useReadTextFromClipboard,m as useScanQrPopup,t as useShowPopup,g as useSwitchInlineQuery,d as useThemeParams};
//# sourceMappingURL=react-telegram-web-app.modern.js.map
